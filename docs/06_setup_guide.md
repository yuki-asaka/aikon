# 開発環境セットアップ手順

このドキュメントでは、本プロジェクトの開発環境をローカルに構築する手順を説明します。

---

## 1. 前提条件

- [Docker](https://www.docker.com/) および [Docker Compose](https://docs.docker.com/compose/) がインストール済みであること
- Gitがインストール済みであること

---

## 2. リポジトリのクローン

```sh
git clone <このリポジトリのURL>
cd aikon
```

---

## 3. 環境変数ファイルの作成

- バックエンド用: `backend/.env`
- フロントエンド用: `frontend/.env`

必要なAPIキーや設定値をそれぞれ記載してください。

---

## 4. 開発環境の作成手順

1. 必要なツール（Docker, Docker Compose, Git）がインストールされていることを確認します。
2. プロジェクトディレクトリに移動し、`.env` ファイルを `backend/` および `frontend/` に作成します。
3. 以下のコマンドでDockerコンテナをビルド・起動します。

```sh
docker-compose up --build
```

4. 起動後、以下のURLで各サービスにアクセスできます。
   - フロントエンド: [http://localhost:3000](http://localhost:3000)
   - バックエンド: [http://localhost:8000](http://localhost:8000)

---

## 5. Dockerコンテナの起動

```sh
docker-compose up --build
```

- 初回はイメージのビルドに数分かかります。
- バックエンド（FastAPI）は `localhost:8000`、フロントエンド（React）は `localhost:3000` でアクセス可能です。
- バックエンドは `/health` エンドポイントでヘルスチェックされます。

---

## 6. 開発用ホットリロード

- フロントエンド: `frontend/src` ディレクトリでコードを編集すると自動でリロードされます（`npm run dev`）。
- バックエンド: `backend/app` ディレクトリでコードを編集すると自動でリロードされます（`--reload` オプション）。

---

## 7. よくあるトラブル

- ポート競合エラーが出る場合は、既存のプロセスを停止してください。
- Docker Desktopのリソース割り当て（CPU/メモリ）が不足している場合は設定を見直してください。
- バックエンドの仮想環境は `/opt/venv` 配下に作成され、ボリュームマウントの影響を受けません。

---

## 8. その他

- 詳細な技術構成やAPI仕様は `docs/` ディレクトリ内の他ドキュメントを参照してください。
- 質問や不明点はIssueで報告してください。

